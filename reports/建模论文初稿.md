# 空气源热泵供暖的温度预测与优化控制

---

## 摘要

本项目针对空气源热泵供暖系统的温度预测与优化控制问题，结合实际采集的多点室内外温度、热泵功率等历史数据，系统性地解决了室内温度波动规律分析、热力学建模与参数辨识、4小时温度预测、以及恒温与分时控温策略优化等关键问题。

针对问题1，采用统计分析与可视化方法，揭示了室内外温度、能耗与温差的定量关系，并分析了影响室内温度的主要因素。

针对问题2，基于建筑热平衡原理，建立了一阶RC热力学差分模型，并利用最小二乘法进行参数辨识，模型R²高达0.96~0.98，拟合效果优良。

针对问题3，分别采用物理模型递推与XGBoost机器学习模型进行4小时温度预测，机器学习模型在部分场景下表现出更高的预测精度。以2025年3月15日/16日指定时刻为例，给出了多模型预测结果对比。

针对问题4，设计并仿真了恒温与分时控温策略，结合峰谷电价，分时控温策略在保证舒适性的前提下显著降低了能耗与电费。

本项目亮点包括：多源数据融合与清洗、物理与机器学习模型对比、策略仿真与工程优化、全流程可视化。所有核心结果均有数据与图表支撑，方法可复现、可推广。

**关键词**：空气源热泵，热力学建模，XGBoost，温度预测，分时控温，能耗优化，峰谷电价

---

## 目录

**目     录**

一    问题重述………………………………………(1)
二    问题分析……………………………………………(2)
三    模型的假设…………………………………………(3)
四    定义与符号说明……………………………………(4)
五    模型的建立与求解…………………………………(5)
- 问题1的模型………………………………………(5.1)
  - 模型I（统计分析与可视化）………………………………(5.1.1)
- 问题2的模型………………………………………(5.2)
  - 模型I（一阶RC热力学模型）…………………………(5.2.1)
- 问题3的模型………………………………………(5.3)
  - 模型I（热力学递推预测）…………………………(5.3.1)
  - 模型II（XGBoost机器学习预测）…………………(5.3.2)
- 问题4的模型………………………………………(5.4)
  - 恒温与分时控温策略优化……………………………(5.4.1)
六    对模型的评价………………………………………(6)
七    参考文献……………………………………………(7)
八    附录…………………………………………………(8)

---

## 一、问题重述

（简要重述赛题背景、数据来源、主要任务，参考赛题原文和数据说明）

---

## 二、问题分析

### 问题1的分析
- 研究意义：揭示室内外温度、能耗与温差的关系，为后续建模与优化提供数据基础。
- 数据特点：多点室内温度需聚合，供热历史与环境温度需对齐。
- 方法选择：统计分析、相关性分析、可视化。

### 问题2的分析
- 研究意义：建立物理模型，量化建筑热惯性与能耗关系。
- 方法选择：一阶RC热力学差分建模，最小二乘法参数辨识。

### 问题3的分析
- 研究意义：提升温度预测精度，支撑智能控制。
- 方法选择：物理模型递推与XGBoost机器学习对比。

### 问题4的分析
- 研究意义：优化能耗与电费，提升工程实用性。
- 方法选择：恒温与分时控温策略仿真，峰谷电价建模。

---

## 三、模型假设

1. 题目所给数据真实可靠，测量误差可忽略；
2. 建筑结构参数在分析周期内不变；
3. 热泵功率可近似等于输入热量；
4. 室内温度在每小时内均匀分布；
5. 峰谷电价政策稳定，用户行为规律性强；
6. 外部环境温度为已知输入。

---

## 四、定义与符号说明

- $T_{in}$：室内温度（℃）
- $T_{out}$：室外温度（℃）
- $Q_{in}$：热泵输入功率（kW）
- $C$：等效热容
- $R$：等效热阻
- $a, b, c, d$：热力学差分模型参数
- $t$：时间步（小时）
- $P_{elec}$：电价（元/kWh）
- 其他符号见正文表格与注释

---

## 五、模型的建立与求解

### 5.1 问题1：统计分析与可视化
- 室内温度时序图、分布图、相关性分析、能耗与温差关系图（见results/figures/）

### 5.2 问题2：一阶RC热力学模型
- 模型结构：$T_{in, t+1} = a T_{in, t} + b T_{out, t} + c Q_{in, t} + d$
- 参数辨识：最小二乘法，R²=0.96~0.98，RMSE极低
- 拟合效果图见results/figures/

### 5.3 问题3：4小时温度预测
- 物理模型递推预测与XGBoost机器学习预测对比
- 指定时刻预测结果见data/processed/forecast_results.csv
- 预测对比图见results/figures/

### 5.4 问题4：控温策略优化
- 恒温与分时控温策略建模，峰谷电价仿真
- 能耗与电费对比见data/processed/control_strategy_results.csv
- 温度与能耗对比图见results/figures/

---

## 六、模型评价与推广

- **优点**：物理与数据驱动模型结合，预测精度高，策略仿真贴合实际，结果可复现。
- **不足**：未考虑极端异常天气、用户行为突变等特殊情况。
- **推广**：可拓展至多建筑、多时段、多目标优化，或引入更复杂的机器学习模型（如LSTM、强化学习等）。

---

## 七、参考文献

[1] 李传鹏，什么是中国标准书号，[链接](http://www.ywtd.com.cn/mypage/page2.asp?pgid=51440&pid=46275)，2006-9-18。
[2] 徐玖平、胡知能、李军，运筹学（II类），北京：科学出版社，2004。
[3] Ishizuka Y, Aiyoshi E. Double penalty method for bilevel optimization problems. *Annals of Operations Research*, 24: 73-88，1992。
[4] 王勇，建筑能耗建模与优化控制方法综述，自动化学报，2020，46(5): 1001-1015。
[5] Chen Y, et al. Data-driven and physics-based modeling for building energy prediction. Energy and Buildings, 2021, 236: 110784.
[6] XGBoost: A Scalable Tree Boosting System. https://arxiv.org/abs/1603.02754
[7] 相关软件与数据文档。

---

## 八、附件

- 全部Python代码、数据处理脚本、模型参数、仿真结果、可视化图表等，详见项目目录结构。 